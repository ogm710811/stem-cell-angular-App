<!--Page header & Title-->
<section id="page_header">
  <div class="page_title">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2 class="title">Patient Search</h2>
          <div class="page_link"><a [routerLink]="['']">Home</a><span><i class="fa fa-long-arrow-right"></i>Patient Search Form</span></div>
          <!-- Alert if user is not logged in goes here  -->
          <div *ngIf='!theUser' style="padding-top:50px;"  class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="alert alert-danger" style="color:white; background-color:red;">
              <strong>Oh snap! </strong>    You are not authorize to see this page.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>  
</section>

<!-- Patient Search Input -->
<section *ngIf="theUser" class="padding">
  <div class="container appointment_wrap padding-half">
    <div class="row">
      <div class="col-md-12">
        <h2>Make an Patient Search</h2>
        <p style="color:red">** Please, enter the Patient Phone Number for this request.</p>       
        <div class="col-md-7 col-sm-8">          
          <div class="row">
            <form #searchForm="ngForm" class="callus" onSubmit="return false"  id="app_form">
              <div class="row">
                
                 <div class="col-md-12">
                    <div id="result" class="text-center form-group"></div>
                 </div>
                
                <div class="col-md-12">
                  <!-- <div class="form-group">
                    <input class="form-control" type="text" id="name" name="name"  placeholder="Your Name" required />
                  </div> -->
                </div>
                <div class="col-md-6">
                   <div class="form-group">
                      <input class="form-control" type="phone" name="phone" [(ngModel)]="phoneNumber" id="phone"  placeholder="xxx - xxx - xxxx" required />  
                    </div> 
                </div>
                <div class="col-md-6">
                  <!-- <div class="form-group">
                    <input class="form-control" type="email"  name="email" id="email" placeholder="Email" required />
                  </div> -->
                </div>
                <div class="col-md-6">
                  <!-- <div class="form-group">
                    <input type="date" class="form-control" placeholder="Appointment Date" id="app_date" name="app_date" />
                  </div> -->
                </div>
                <div class="col-md-12">
                  <!-- <div class="form-group">
                    <textarea placeholder="Message" cols="11" id="message" name="message" required></textarea>
                  </div> -->
                  <!-- ERROR alert goes here -->
                  <div *ngIf='error' class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                    <div class="alert alert-danger" style="color:white; background-color:red;">
                      <strong>Oh snap! </strong>   {{ error }}
                      <!-- An error occurred, try again. -->
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="btn-submit button3">
                       <input type="submit" value="Submit Request" (click)="searchPatient(phoneNumber)" />   
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="col-md-5 col-sm-4"> </div>
      </div>
    </div>
  </div>
</section>

<!-- Patient Record Display -->
<div class="container">
  <hr>
  <br>
	<div class="row">
    <div *ngIf="patient" class="col-md-12">
      <div class="table-responsive">
          <table id="mytable" class="table table-bordred table-striped">
            <thead>
              <th>FIRST NAME</th>
              <th>LAST NAME</th>
              <th>BIRTHDAY</th>
              <th>EMAIL</th>
              <th>PHONE NUMBER</th>
              <th>DETAILS</th>
            </thead>
            <br>
            <tbody>    
              <tr>
                <td>{{ patient.firstName }}</td>
                <td>{{ patient.lastName }}</td>
                <td>{{ patient.birthDate | date:'longDate' }}</td>
                <td>{{ patient.email }}</td>
                <td>{{ patient.phoneNumber }}</td>
                <td><p data-placement="top" data-toggle="tooltip" title="Update"><button class="btn btn-primary btn-xs" data-title="Update"><span class="glyphicon glyphicon-pencil"></span></button></p></td> 
              </tr>
            </tbody>        
          </table>
          <div class="clearfix"></div>
        </div>
    </div>
	</div>
</div>